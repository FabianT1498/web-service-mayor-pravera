import { createStore } from 'redux';
import { storeDollarExchange } from '_services/dollar-exchange';

const DollarExchangeModalPresenter = {
    clickOnModal({bsExchange}){
        this.storeNewDollarExchangeValue(bsExchange)
    },
    storeNewDollarExchangeValue: async function(value){
        try {
            let response = await storeDollarExchange({'bs_exchange': value})
            this.dollarExchangeBs = response.data;

            console.log(this.dollarExchangeBs)

            if ([201, 200].includes(response.status)){

                // Show modal to succesfully value store
                const message = 'La tasa del dolar ha sido cambiada con exito'
                toastr.success(message);
                toggleModal('dollar-exchange-modal', false);
                
                // Change value in global state
            }
        } catch(e){
            console.log(e)
            toastr.error('No se pudo guardar el valor de la tasa del dolar');
        }        
    },
}